<?xml version="1.0"?>
<materialx version="1.39">
  <nodedef name="ND_raycast" node="raycast">
    <output name="out" type="float" default="0.0" />
    <input name="origin" type="vector3" value="0, 0, 0" />
    <input name="view_dir" type="vector3" value="0, 0, 0" />
  </nodedef>
  <nodegraph name="NG_raycast" nodedef="ND_raycast">
    <subtract name="node2" type="vector3">
      <input name="in1" type="vector3" value="0, 0, 0" />
      <input name="in2" type="vector3" interfacename="origin" />
    </subtract>
    <subtract name="node4" type="vector3">
      <input name="in1" type="vector3" nodename="node2" />
      <input name="in2" type="float" value="1" />
    </subtract>
    <divide name="dn" type="vector3">
      <input name="in1" type="vector3" nodename="node4" />
      <input name="in2" type="vector3" interfacename="view_dir" />
    </divide>
    <subtract name="node7" type="vector3">
      <input name="in1" type="vector3" value="0, 0, 0" />
      <input name="in2" type="vector3" interfacename="origin" />
    </subtract>
    <add name="node9" type="vector3">
      <input name="in1" type="vector3" nodename="node7" />
      <input name="in2" type="float" value="1" />
    </add>
    <divide name="dp" type="vector3">
      <input name="in1" type="vector3" nodename="node9" />
      <input name="in2" type="vector3" interfacename="view_dir" />
    </divide>
    <max name="d_min" type="vector3">
      <input name="in1" type="vector3" nodename="dn" />
      <input name="in2" type="vector3" nodename="dp" />
    </max>
    <extract name="node14" type="float">
      <input name="in" type="vector3" nodename="dp" />
      <input name="index" type="integer" value="2" />
    </extract>
    <ifgreater name="node16" type="boolean">
      <input name="value1" type="float" nodename="node14" />
      <input name="value2" type="float" value="0" />
    </ifgreater>
    <extract name="node18" type="float">
      <input name="in" type="vector3" nodename="dp" />
      <input name="index" type="integer" value="2" />
    </extract>
    <ifequal name="d_min_z" type="float">
      <input name="value1" type="boolean" nodename="node16" />
      <input name="value2" type="boolean" value="true" />
      <input name="in1" type="float" nodename="node18" />
      <input name="in2" type="float" value="1e+06" />
    </ifequal>
    <min name="node20" type="float">
      <input name="in1" type="float" nodename="node22" />
      <input name="in2" type="float" nodename="node23" />
    </min>
    <extract name="node22" type="float">
      <input name="in" type="vector3" nodename="d_min" />
      <input name="index" type="integer" value="0" />
    </extract>
    <min name="node23" type="float">
      <input name="in1" type="float" nodename="node25" />
      <input name="in2" type="float" nodename="d_min_z" />
    </min>
    <extract name="node25" type="float">
      <input name="in" type="vector3" nodename="d_min" />
      <input name="index" type="integer" value="1" />
    </extract>
    <output name="out" type="float" nodename="node20" />
  </nodegraph>
  <nodedef name="ND_main" node="main">
    <output name="out" type="surfaceshader" default="" />
    <input name="wall1" type="filename" value="." />
    <input name="ceilg" type="filename" value="." />
    <input name="wall2" type="filename" value="." />
    <input name="wall3" type="filename" value="." />
    <input name="floor" type="filename" value="." />
  </nodedef>
  <nodegraph name="NG_main" nodedef="ND_main">
    <texcoord name="uv" type="vector2" />
    <viewdirection name="node1" type="vector3">
      <input name="space" type="string" value="object" />
    </viewdirection>
    <subtract name="view_dir" type="vector3">
      <input name="in1" type="vector3" value="0, 0, 0" />
      <input name="in2" type="vector3" nodename="node1" />
    </subtract>
    <multiply name="node5" type="vector2">
      <input name="in1" type="vector2" nodename="uv" />
      <input name="in2" type="float" value="2" />
    </multiply>
    <subtract name="node7" type="vector2">
      <input name="in1" type="vector2" nodename="node5" />
      <input name="in2" type="float" value="1" />
    </subtract>
    <extract name="node8" type="float">
      <input name="in" type="vector2" nodename="node7" />
      <input name="index" type="integer" value="0" />
    </extract>
    <extract name="node9" type="float">
      <input name="in" type="vector2" nodename="node7" />
      <input name="index" type="integer" value="1" />
    </extract>
    <subtract name="node11" type="float">
      <input name="in1" type="float" value="0" />
      <input name="in2" type="float" value="1" />
    </subtract>
    <combine3 name="origin" type="vector3">
      <input name="in1" type="float" nodename="node8" />
      <input name="in2" type="float" nodename="node9" />
      <input name="in3" type="float" nodename="node11" />
    </combine3>
    <raycast name="room_dist" type="float">
      <input name="origin" type="vector3" nodename="origin" />
      <input name="view_dir" type="vector3" nodename="view_dir" />
    </raycast>
    <multiply name="node17" type="vector3">
      <input name="in1" type="vector3" nodename="view_dir" />
      <input name="in2" type="float" nodename="room_dist" />
    </multiply>
    <add name="room_pos" type="vector3">
      <input name="in1" type="vector3" nodename="origin" />
      <input name="in2" type="vector3" nodename="node17" />
    </add>
    <extract name="node19" type="float">
      <input name="in" type="vector3" nodename="room_pos" />
      <input name="index" type="integer" value="2" />
    </extract>
    <subtract name="node21" type="float">
      <input name="in1" type="float" value="0" />
      <input name="in2" type="float" value="1" />
    </subtract>
    <multiply name="node22" type="float">
      <input name="in1" type="float" nodename="node19" />
      <input name="in2" type="float" nodename="node21" />
    </multiply>
    <extract name="node23" type="float">
      <input name="in" type="vector3" nodename="room_pos" />
      <input name="index" type="integer" value="0" />
    </extract>
    <extract name="node24" type="float">
      <input name="in" type="vector3" nodename="room_pos" />
      <input name="index" type="integer" value="1" />
    </extract>
    <extract name="node25" type="float">
      <input name="in" type="vector3" nodename="room_pos" />
      <input name="index" type="integer" value="2" />
    </extract>
    <combine3 name="room_pos2" type="vector3">
      <input name="in1" type="float" nodename="node23" />
      <input name="in2" type="float" nodename="node24" />
      <input name="in3" type="float" nodename="node22" />
    </combine3>
    <add name="node29" type="vector3">
      <input name="in1" type="vector3" nodename="room_pos2" />
      <input name="in2" type="float" value="1" />
    </add>
    <divide name="node31" type="vector3">
      <input name="in1" type="vector3" nodename="node29" />
      <input name="in2" type="float" value="2" />
    </divide>
    <convert name="node32" type="vector3">
      <input name="in" type="float" value="1" />
    </convert>
    <subtract name="wall_uvs" type="vector3">
      <input name="in1" type="vector3" nodename="node32" />
      <input name="in2" type="vector3" nodename="node31" />
    </subtract>
    <extract name="node35" type="float">
      <input name="in" type="vector3" nodename="room_pos2" />
      <input name="index" type="integer" value="0" />
    </extract>
    <ifgreater name="node37" type="boolean">
      <input name="value1" type="float" nodename="node35" />
      <input name="value2" type="float" value="0.99" />
    </ifgreater>
    <image name="node38" type="color4">
      <input name="file" type="filename" interfacename="wall1" />
      <input name="texcoord" type="vector2" nodename="node45" />
    </image>
    <extract name="node43" type="float">
      <input name="in" type="vector3" nodename="wall_uvs" />
      <input name="index" type="integer" value="2" />
    </extract>
    <extract name="node44" type="float">
      <input name="in" type="vector3" nodename="wall_uvs" />
      <input name="index" type="integer" value="1" />
    </extract>
    <combine2 name="node45" type="vector2">
      <input name="in1" type="float" nodename="node43" />
      <input name="in2" type="float" nodename="node44" />
    </combine2>
    <ifequal name="words2" type="color4">
      <input name="value1" type="boolean" nodename="node37" />
      <input name="value2" type="boolean" value="true" />
      <input name="in1" type="color4" nodename="node38" />
      <input name="in2" type="color4" value="0, 0, 0, 0" />
    </ifequal>
    <extract name="node47" type="float">
      <input name="in" type="vector3" nodename="room_pos2" />
      <input name="index" type="integer" value="1" />
    </extract>
    <subtract name="node49" type="float">
      <input name="in1" type="float" value="0" />
      <input name="in2" type="float" value="0.99" />
    </subtract>
    <ifgreatereq name="node50" type="boolean">
      <input name="value1" type="float" nodename="node49" />
      <input name="value2" type="float" nodename="node47" />
    </ifgreatereq>
    <image name="node51" type="color4">
      <input name="file" type="filename" interfacename="ceilg" />
      <input name="texcoord" type="vector2" nodename="node60" />
    </image>
    <extract name="node56" type="float">
      <input name="in" type="vector3" nodename="wall_uvs" />
      <input name="index" type="integer" value="0" />
    </extract>
    <extract name="node58" type="float">
      <input name="in" type="vector3" nodename="wall_uvs" />
      <input name="index" type="integer" value="2" />
    </extract>
    <subtract name="node59" type="float">
      <input name="in1" type="float" value="0" />
      <input name="in2" type="float" nodename="node58" />
    </subtract>
    <combine2 name="node60" type="vector2">
      <input name="in1" type="float" nodename="node56" />
      <input name="in2" type="float" nodename="node59" />
    </combine2>
    <ifequal name="words3" type="color4">
      <input name="value1" type="boolean" nodename="node50" />
      <input name="value2" type="boolean" value="true" />
      <input name="in1" type="color4" nodename="node51" />
      <input name="in2" type="color4" nodename="words2" />
    </ifequal>
    <extract name="node62" type="float">
      <input name="in" type="vector3" nodename="room_pos2" />
      <input name="index" type="integer" value="0" />
    </extract>
    <subtract name="node64" type="float">
      <input name="in1" type="float" value="0" />
      <input name="in2" type="float" value="0.99" />
    </subtract>
    <ifgreatereq name="node65" type="boolean">
      <input name="value1" type="float" nodename="node64" />
      <input name="value2" type="float" nodename="node62" />
    </ifgreatereq>
    <image name="node66" type="color4">
      <input name="file" type="filename" interfacename="wall2" />
      <input name="texcoord" type="vector2" nodename="node75" />
    </image>
    <extract name="node71" type="float">
      <input name="in" type="vector3" nodename="wall_uvs" />
      <input name="index" type="integer" value="2" />
    </extract>
    <subtract name="node72" type="float">
      <input name="in1" type="float" value="0" />
      <input name="in2" type="float" nodename="node71" />
    </subtract>
    <extract name="node74" type="float">
      <input name="in" type="vector3" nodename="wall_uvs" />
      <input name="index" type="integer" value="1" />
    </extract>
    <combine2 name="node75" type="vector2">
      <input name="in1" type="float" nodename="node72" />
      <input name="in2" type="float" nodename="node74" />
    </combine2>
    <ifequal name="words4" type="color4">
      <input name="value1" type="boolean" nodename="node65" />
      <input name="value2" type="boolean" value="true" />
      <input name="in1" type="color4" nodename="node66" />
      <input name="in2" type="color4" nodename="words3" />
    </ifequal>
    <extract name="node77" type="float">
      <input name="in" type="vector3" nodename="room_pos2" />
      <input name="index" type="integer" value="2" />
    </extract>
    <subtract name="node79" type="float">
      <input name="in1" type="float" value="0" />
      <input name="in2" type="float" value="0.99" />
    </subtract>
    <ifgreatereq name="node80" type="boolean">
      <input name="value1" type="float" nodename="node79" />
      <input name="value2" type="float" nodename="node77" />
    </ifgreatereq>
    <image name="node81" type="color4">
      <input name="file" type="filename" interfacename="wall3" />
      <input name="texcoord" type="vector2" nodename="node88" />
    </image>
    <extract name="node86" type="float">
      <input name="in" type="vector3" nodename="wall_uvs" />
      <input name="index" type="integer" value="0" />
    </extract>
    <extract name="node87" type="float">
      <input name="in" type="vector3" nodename="wall_uvs" />
      <input name="index" type="integer" value="1" />
    </extract>
    <combine2 name="node88" type="vector2">
      <input name="in1" type="float" nodename="node86" />
      <input name="in2" type="float" nodename="node87" />
    </combine2>
    <ifequal name="words5" type="color4">
      <input name="value1" type="boolean" nodename="node80" />
      <input name="value2" type="boolean" value="true" />
      <input name="in1" type="color4" nodename="node81" />
      <input name="in2" type="color4" nodename="words4" />
    </ifequal>
    <extract name="node90" type="float">
      <input name="in" type="vector3" nodename="room_pos2" />
      <input name="index" type="integer" value="1" />
    </extract>
    <ifgreater name="node92" type="boolean">
      <input name="value1" type="float" nodename="node90" />
      <input name="value2" type="float" value="0.99" />
    </ifgreater>
    <image name="node93" type="color4">
      <input name="file" type="filename" interfacename="floor" />
      <input name="texcoord" type="vector2" nodename="node100" />
    </image>
    <extract name="node98" type="float">
      <input name="in" type="vector3" nodename="wall_uvs" />
      <input name="index" type="integer" value="0" />
    </extract>
    <extract name="node99" type="float">
      <input name="in" type="vector3" nodename="wall_uvs" />
      <input name="index" type="integer" value="2" />
    </extract>
    <combine2 name="node100" type="vector2">
      <input name="in1" type="float" nodename="node98" />
      <input name="in2" type="float" nodename="node99" />
    </combine2>
    <ifequal name="words6" type="color4">
      <input name="value1" type="boolean" nodename="node92" />
      <input name="value2" type="boolean" value="true" />
      <input name="in1" type="color4" nodename="node93" />
      <input name="in2" type="color4" nodename="words5" />
    </ifequal>
    <clamp name="node101" type="float">
      <input name="in" type="float" nodename="node107" />
    </clamp>
    <distance name="node102" type="float">
      <input name="in1" type="vector3" nodename="node104" />
      <input name="in2" type="vector3" nodename="room_pos2" />
    </distance>
    <convert name="node104" type="vector3">
      <input name="in" type="float" value="0" />
    </convert>
    <subtract name="node107" type="float">
      <input name="in1" type="float" nodename="node102" />
      <input name="in2" type="float" value="0.9" />
    </subtract>
    <subtract name="ao" type="float">
      <input name="in1" type="float" value="1" />
      <input name="in2" type="float" nodename="node101" />
    </subtract>
    <standard_surface name="surface" type="surfaceshader">
      <input name="base_color" type="color3" nodename="node118" />
      <input name="specular_roughness" type="float" value="1" />
    </standard_surface>
    <clamp name="node108" type="color3">
      <input name="in" type="color3" nodename="node116" />
    </clamp>
    <convert name="node110" type="color3">
      <input name="in" type="vector3" nodename="wall_uvs" />
    </convert>
    <extract name="node112" type="float">
      <input name="in" type="color4" nodename="words6" />
      <input name="index" type="integer" value="0" />
    </extract>
    <extract name="node113" type="float">
      <input name="in" type="color4" nodename="words6" />
      <input name="index" type="integer" value="1" />
    </extract>
    <extract name="node114" type="float">
      <input name="in" type="color4" nodename="words6" />
      <input name="index" type="integer" value="2" />
    </extract>
    <combine3 name="node115" type="color3">
      <input name="in1" type="float" nodename="node112" />
      <input name="in2" type="float" nodename="node113" />
      <input name="in3" type="float" nodename="node114" />
    </combine3>
    <add name="node116" type="color3">
      <input name="in1" type="color3" nodename="node110" />
      <input name="in2" type="color3" nodename="node115" />
    </add>
    <multiply name="node118" type="color3">
      <input name="in1" type="color3" nodename="node108" />
      <input name="in2" type="float" nodename="ao" />
    </multiply>
    <output name="out" type="surfaceshader" nodename="surface" />
  </nodegraph>
  <main name="node1" type="surfaceshader">
    <input name="wall1" type="filename" value="C:\Users\jaket\Pictures\left_wall_3.png" />
    <input name="ceilg" type="filename" value="C:\Users\jaket\Pictures\ceiling_3.png" />
    <input name="wall2" type="filename" value="C:\Users\jaket\Pictures\right_wall_3.png" />
    <input name="wall3" type="filename" value="C:\Users\jaket\Pictures\back_wall_3.png" />
    <input name="floor" type="filename" value="C:\Users\jaket\Pictures\floor_3.png" />
  </main>
</materialx>
