vector2 node2 = texcoord();
vector2 node4 = vector2(1.0);
vector2 background__uv = node4 - node2;
float randomfloat__in = background__uv[0];
float randomfloat__min = 0.0 - 0.01;
float background__rx = randomfloat(in=randomfloat__in, min=randomfloat__min, max=0.01, seed=0);
float randomfloat__in2 = background__uv[1];
float randomfloat__min2 = 0.0 - 0.01;
float background__ry = randomfloat(in=randomfloat__in2, min=randomfloat__min2, max=0.01, seed=1);
vector2 background__r = vector2(background__rx, background__ry);
vector2 background__ruv = background__uv + background__r;
vector2 noise2d__texcoord = background__uv * 100.0;
float background__n = noise2d(amplitude=5.0, pivot=0.0, texcoord=noise2d__texcoord);
vector2 background__m = mix(fg=background__ruv, bg=background__uv, mix=background__n);
vector2 image__texcoord = clamp(in=background__m);
color3 background__c = image(file="textures\skyline.png", texcoord=image__texcoord);
float global__TAIL_SIZE = 0.015 * 0.9;
vector2 global__UV = texcoord();
float global__INV_NUM_DROPS = 1.0 / 10.0;
float node45 = global__UV[0];
float node47 = global__UV[0];
float node49 = node47 % global__INV_NUM_DROPS;
float global__CHANNEL = node45 - node49;
float global__HALF_CHANNEL = global__INV_NUM_DROPS / 2.0;
float global__CHANNEL_MIDDLE = global__CHANNEL + global__HALF_CHANNEL;
float node55 = 0.0 - global__HALF_CHANNEL;
float global__CHANNEL_LEFT = node55 + 0.015;
float global__CHANNEL_RGHT = global__HALF_CHANNEL - 0.015;
float node60 = randomfloat(in=global__CHANNEL);
float node66 = node60 * 2.0;
float global__progress2 = global__CHANNEL + node66;
float node68 = time();
float node71 = node68 / 5.0;
float global__progress3 = global__progress2 + node71;
float global__progress4 = global__progress3 % 2.0;
vector2 global__tail_pos = vector2(0.0, 0.0);
float _loop___fn = 0.0 / 100.0;
float node81 = 0.0 % 3.0;
float node82 = 0.0 - node81;
float randomfloat__in4 = node82 + global__CHANNEL;
float randomfloat__min3 = 0.0 - 0.01;
float _loop___s = randomfloat(in=randomfloat__in4, min=randomfloat__min3, max=0.01);
float node91 = if (global__progress4 > _loop___fn) { 1.0 } else { 0.0 };
float node94 = 0.0 + _loop___s;
float global__sway2 = if (node91 == 1.0) { node94 } else { 0.0 };
float global__sway3 = clamp(in=global__sway2, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node101 = global__CHANNEL_MIDDLE + global__sway3;
vector2 _loop___tail_pos1 = vector2(node101, _loop___fn);
float _loop___to_tail = distance(in1=_loop___tail_pos1, in2=global__UV);
float node108 = if (global__TAIL_SIZE >= _loop___to_tail) { 1.0 } else { 0.0 };
float node111 = if (node108 == 1.0) { 1.0 } else { 0.0 };
float global__tail2 = 0.0 + node111;
float node114 = if (global__TAIL_SIZE >= _loop___to_tail) { 1.0 } else { 0.0 };
vector2 global__tail_pos2 = if (node114 == 1.0) { _loop___tail_pos1 } else { global__tail_pos };
float _loop___fn2 = 1.0 / 100.0;
float node122 = 1.0 % 3.0;
float node123 = 1.0 - node122;
float randomfloat__in5 = node123 + global__CHANNEL;
float randomfloat__min4 = 0.0 - 0.01;
float _loop___s2 = randomfloat(in=randomfloat__in5, min=randomfloat__min4, max=0.01);
float node132 = if (global__progress4 > _loop___fn2) { 1.0 } else { 0.0 };
float node135 = global__sway3 + _loop___s2;
float global__sway4 = if (node132 == 1.0) { node135 } else { global__sway3 };
float global__sway5 = clamp(in=global__sway4, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node142 = global__CHANNEL_MIDDLE + global__sway5;
vector2 _loop___tail_pos2 = vector2(node142, _loop___fn2);
float _loop___to_tail2 = distance(in1=_loop___tail_pos2, in2=global__UV);
float node149 = if (global__TAIL_SIZE >= _loop___to_tail2) { 1.0 } else { 0.0 };
float node152 = if (node149 == 1.0) { 1.0 } else { 0.0 };
float global__tail3 = global__tail2 + node152;
float node155 = if (global__TAIL_SIZE >= _loop___to_tail2) { 1.0 } else { 0.0 };
vector2 global__tail_pos3 = if (node155 == 1.0) { _loop___tail_pos2 } else { global__tail_pos2 };
float _loop___fn3 = 2.0 / 100.0;
float node163 = 2.0 % 3.0;
float node164 = 2.0 - node163;
float randomfloat__in6 = node164 + global__CHANNEL;
float randomfloat__min5 = 0.0 - 0.01;
float _loop___s3 = randomfloat(in=randomfloat__in6, min=randomfloat__min5, max=0.01);
float node173 = if (global__progress4 > _loop___fn3) { 1.0 } else { 0.0 };
float node176 = global__sway5 + _loop___s3;
float global__sway6 = if (node173 == 1.0) { node176 } else { global__sway5 };
float global__sway7 = clamp(in=global__sway6, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node183 = global__CHANNEL_MIDDLE + global__sway7;
vector2 _loop___tail_pos3 = vector2(node183, _loop___fn3);
float _loop___to_tail3 = distance(in1=_loop___tail_pos3, in2=global__UV);
float node190 = if (global__TAIL_SIZE >= _loop___to_tail3) { 1.0 } else { 0.0 };
float node193 = if (node190 == 1.0) { 1.0 } else { 0.0 };
float global__tail4 = global__tail3 + node193;
float node196 = if (global__TAIL_SIZE >= _loop___to_tail3) { 1.0 } else { 0.0 };
vector2 global__tail_pos4 = if (node196 == 1.0) { _loop___tail_pos3 } else { global__tail_pos3 };
float _loop___fn4 = 3.0 / 100.0;
float node204 = 3.0 % 3.0;
float node205 = 3.0 - node204;
float randomfloat__in7 = node205 + global__CHANNEL;
float randomfloat__min6 = 0.0 - 0.01;
float _loop___s4 = randomfloat(in=randomfloat__in7, min=randomfloat__min6, max=0.01);
float node214 = if (global__progress4 > _loop___fn4) { 1.0 } else { 0.0 };
float node217 = global__sway7 + _loop___s4;
float global__sway8 = if (node214 == 1.0) { node217 } else { global__sway7 };
float global__sway9 = clamp(in=global__sway8, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node224 = global__CHANNEL_MIDDLE + global__sway9;
vector2 _loop___tail_pos4 = vector2(node224, _loop___fn4);
float _loop___to_tail4 = distance(in1=_loop___tail_pos4, in2=global__UV);
float node231 = if (global__TAIL_SIZE >= _loop___to_tail4) { 1.0 } else { 0.0 };
float node234 = if (node231 == 1.0) { 1.0 } else { 0.0 };
float global__tail5 = global__tail4 + node234;
float node237 = if (global__TAIL_SIZE >= _loop___to_tail4) { 1.0 } else { 0.0 };
vector2 global__tail_pos5 = if (node237 == 1.0) { _loop___tail_pos4 } else { global__tail_pos4 };
float _loop___fn5 = 4.0 / 100.0;
float node245 = 4.0 % 3.0;
float node246 = 4.0 - node245;
float randomfloat__in8 = node246 + global__CHANNEL;
float randomfloat__min7 = 0.0 - 0.01;
float _loop___s5 = randomfloat(in=randomfloat__in8, min=randomfloat__min7, max=0.01);
float node255 = if (global__progress4 > _loop___fn5) { 1.0 } else { 0.0 };
float node258 = global__sway9 + _loop___s5;
float global__sway10 = if (node255 == 1.0) { node258 } else { global__sway9 };
float global__sway11 = clamp(in=global__sway10, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node265 = global__CHANNEL_MIDDLE + global__sway11;
vector2 _loop___tail_pos5 = vector2(node265, _loop___fn5);
float _loop___to_tail5 = distance(in1=_loop___tail_pos5, in2=global__UV);
float node272 = if (global__TAIL_SIZE >= _loop___to_tail5) { 1.0 } else { 0.0 };
float node275 = if (node272 == 1.0) { 1.0 } else { 0.0 };
float global__tail6 = global__tail5 + node275;
float node278 = if (global__TAIL_SIZE >= _loop___to_tail5) { 1.0 } else { 0.0 };
vector2 global__tail_pos6 = if (node278 == 1.0) { _loop___tail_pos5 } else { global__tail_pos5 };
float _loop___fn6 = 5.0 / 100.0;
float node286 = 5.0 % 3.0;
float node287 = 5.0 - node286;
float randomfloat__in9 = node287 + global__CHANNEL;
float randomfloat__min8 = 0.0 - 0.01;
float _loop___s6 = randomfloat(in=randomfloat__in9, min=randomfloat__min8, max=0.01);
float node296 = if (global__progress4 > _loop___fn6) { 1.0 } else { 0.0 };
float node299 = global__sway11 + _loop___s6;
float global__sway12 = if (node296 == 1.0) { node299 } else { global__sway11 };
float global__sway13 = clamp(in=global__sway12, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node306 = global__CHANNEL_MIDDLE + global__sway13;
vector2 _loop___tail_pos6 = vector2(node306, _loop___fn6);
float _loop___to_tail6 = distance(in1=_loop___tail_pos6, in2=global__UV);
float node313 = if (global__TAIL_SIZE >= _loop___to_tail6) { 1.0 } else { 0.0 };
float node316 = if (node313 == 1.0) { 1.0 } else { 0.0 };
float global__tail7 = global__tail6 + node316;
float node319 = if (global__TAIL_SIZE >= _loop___to_tail6) { 1.0 } else { 0.0 };
vector2 global__tail_pos7 = if (node319 == 1.0) { _loop___tail_pos6 } else { global__tail_pos6 };
float _loop___fn7 = 6.0 / 100.0;
float node327 = 6.0 % 3.0;
float node328 = 6.0 - node327;
float randomfloat__in10 = node328 + global__CHANNEL;
float randomfloat__min9 = 0.0 - 0.01;
float _loop___s7 = randomfloat(in=randomfloat__in10, min=randomfloat__min9, max=0.01);
float node337 = if (global__progress4 > _loop___fn7) { 1.0 } else { 0.0 };
float node340 = global__sway13 + _loop___s7;
float global__sway14 = if (node337 == 1.0) { node340 } else { global__sway13 };
float global__sway15 = clamp(in=global__sway14, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node347 = global__CHANNEL_MIDDLE + global__sway15;
vector2 _loop___tail_pos7 = vector2(node347, _loop___fn7);
float _loop___to_tail7 = distance(in1=_loop___tail_pos7, in2=global__UV);
float node354 = if (global__TAIL_SIZE >= _loop___to_tail7) { 1.0 } else { 0.0 };
float node357 = if (node354 == 1.0) { 1.0 } else { 0.0 };
float global__tail8 = global__tail7 + node357;
float node360 = if (global__TAIL_SIZE >= _loop___to_tail7) { 1.0 } else { 0.0 };
vector2 global__tail_pos8 = if (node360 == 1.0) { _loop___tail_pos7 } else { global__tail_pos7 };
float _loop___fn8 = 7.0 / 100.0;
float node368 = 7.0 % 3.0;
float node369 = 7.0 - node368;
float randomfloat__in11 = node369 + global__CHANNEL;
float randomfloat__min10 = 0.0 - 0.01;
float _loop___s8 = randomfloat(in=randomfloat__in11, min=randomfloat__min10, max=0.01);
float node378 = if (global__progress4 > _loop___fn8) { 1.0 } else { 0.0 };
float node381 = global__sway15 + _loop___s8;
float global__sway16 = if (node378 == 1.0) { node381 } else { global__sway15 };
float global__sway17 = clamp(in=global__sway16, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node388 = global__CHANNEL_MIDDLE + global__sway17;
vector2 _loop___tail_pos8 = vector2(node388, _loop___fn8);
float _loop___to_tail8 = distance(in1=_loop___tail_pos8, in2=global__UV);
float node395 = if (global__TAIL_SIZE >= _loop___to_tail8) { 1.0 } else { 0.0 };
float node398 = if (node395 == 1.0) { 1.0 } else { 0.0 };
float global__tail9 = global__tail8 + node398;
float node401 = if (global__TAIL_SIZE >= _loop___to_tail8) { 1.0 } else { 0.0 };
vector2 global__tail_pos9 = if (node401 == 1.0) { _loop___tail_pos8 } else { global__tail_pos8 };
float _loop___fn9 = 8.0 / 100.0;
float node409 = 8.0 % 3.0;
float node410 = 8.0 - node409;
float randomfloat__in12 = node410 + global__CHANNEL;
float randomfloat__min11 = 0.0 - 0.01;
float _loop___s9 = randomfloat(in=randomfloat__in12, min=randomfloat__min11, max=0.01);
float node419 = if (global__progress4 > _loop___fn9) { 1.0 } else { 0.0 };
float node422 = global__sway17 + _loop___s9;
float global__sway18 = if (node419 == 1.0) { node422 } else { global__sway17 };
float global__sway19 = clamp(in=global__sway18, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node429 = global__CHANNEL_MIDDLE + global__sway19;
vector2 _loop___tail_pos9 = vector2(node429, _loop___fn9);
float _loop___to_tail9 = distance(in1=_loop___tail_pos9, in2=global__UV);
float node436 = if (global__TAIL_SIZE >= _loop___to_tail9) { 1.0 } else { 0.0 };
float node439 = if (node436 == 1.0) { 1.0 } else { 0.0 };
float global__tail10 = global__tail9 + node439;
float node442 = if (global__TAIL_SIZE >= _loop___to_tail9) { 1.0 } else { 0.0 };
vector2 global__tail_pos10 = if (node442 == 1.0) { _loop___tail_pos9 } else { global__tail_pos9 };
float _loop___fn10 = 9.0 / 100.0;
float node450 = 9.0 % 3.0;
float node451 = 9.0 - node450;
float randomfloat__in13 = node451 + global__CHANNEL;
float randomfloat__min12 = 0.0 - 0.01;
float _loop___s10 = randomfloat(in=randomfloat__in13, min=randomfloat__min12, max=0.01);
float node460 = if (global__progress4 > _loop___fn10) { 1.0 } else { 0.0 };
float node463 = global__sway19 + _loop___s10;
float global__sway20 = if (node460 == 1.0) { node463 } else { global__sway19 };
float global__sway21 = clamp(in=global__sway20, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node470 = global__CHANNEL_MIDDLE + global__sway21;
vector2 _loop___tail_pos10 = vector2(node470, _loop___fn10);
float _loop___to_tail10 = distance(in1=_loop___tail_pos10, in2=global__UV);
float node477 = if (global__TAIL_SIZE >= _loop___to_tail10) { 1.0 } else { 0.0 };
float node480 = if (node477 == 1.0) { 1.0 } else { 0.0 };
float global__tail11 = global__tail10 + node480;
float node483 = if (global__TAIL_SIZE >= _loop___to_tail10) { 1.0 } else { 0.0 };
vector2 global__tail_pos11 = if (node483 == 1.0) { _loop___tail_pos10 } else { global__tail_pos10 };
float _loop___fn11 = 10.0 / 100.0;
float node491 = 10.0 % 3.0;
float node492 = 10.0 - node491;
float randomfloat__in14 = node492 + global__CHANNEL;
float randomfloat__min13 = 0.0 - 0.01;
float _loop___s11 = randomfloat(in=randomfloat__in14, min=randomfloat__min13, max=0.01);
float node501 = if (global__progress4 > _loop___fn11) { 1.0 } else { 0.0 };
float node504 = global__sway21 + _loop___s11;
float global__sway22 = if (node501 == 1.0) { node504 } else { global__sway21 };
float global__sway23 = clamp(in=global__sway22, low=global__CHANNEL_LEFT, high=global__CHANNEL_RGHT);
float node511 = global__CHANNEL_MIDDLE + global__sway23;
vector2 _loop___tail_pos11 = vector2(node511, _loop___fn11);
float _loop___to_tail11 = distance(in1=_loop___tail_pos11, in2=global__UV);
float node518 = if (global__TAIL_SIZE >= _loop___to_tail11) { 1.0 } else { 0.0 };
float node521 = if (node518 == 1.0) { 1.0 } else { 0.0 };
float global__tail12 = global__tail11 + node521;
float node524 = if (global__TAIL_SIZE >= _loop___to_tail11) { 1.0 } else { 0.0 };
vector2 global__tail_pos12 = if (node524 == 1.0) { _loop___tail_pos11 } else { global__tail_pos11 };
float node529 = global__CHANNEL_MIDDLE + global__sway23;
vector2 global__drop_pos = vector2(node529, global__progress4);
float global__to_drop = distance(in1=global__drop_pos, in2=global__UV);
float node535 = if (0.015 >= global__to_drop) { 1.0 } else { 0.0 };
float global__drop = if (node535 == 1.0) { 1.0 } else { 0.0 };
float node539 = global__tail_pos12[1];
float node541 = if (global__progress4 >= node539) { 1.0 } else { 0.0 };
float node542 = clamp(in=global__tail12);
float node547 = if (node541 == 1.0) { node542 } else { 0.0 };
float node550 = 1.0 - global__drop;
float global__in_tail = node547 * node550;
float node554 = global__UV[1];
float node555 = global__progress4 - node554;
float node558 = 1.0 / 1.25;
float node559 = node555 * node558;
float node561 = node559 * global__in_tail;
float global__tail14 = global__in_tail - node561;
float global__tail15 = clamp(in=global__tail14);
float global__to_tail = distance(in1=global__tail_pos12, in2=global__UV);
float node568 = global__tail_pos12[0];
float node570 = global__UV[0];
float node571 = node568 - node570;
float node573 = node571 / global__TAIL_SIZE;
vector2 global__tail_norm = vector2(node573, 0.0);
float node577 = if (global__in_tail > 0.5) { 1.0 } else { 0.0 };
vector2 node581 = vector2(0.0, 0.0);
vector2 global__tail_norm2 = if (node577 == 1.0) { global__tail_norm } else { node581 };
vector2 mix__fg2 = vector2(0.0, 0.0);
vector2 global__tail_norm3 = mix(fg=mix__fg2, bg=global__tail_norm2, mix=global__tail15);
vector2 node589 = global__drop_pos - global__UV;
vector2 global__drop_norm = node589 / 0.015;
float node593 = if (0.015 >= global__to_drop) { 1.0 } else { 0.0 };
vector2 node597 = vector2(0.0, 0.0);
vector2 global__drop_norm2 = if (node593 == 1.0) { global__drop_norm } else { node597 };
vector2 node600 = vector2(1.0);
vector2 global__inv_uv = node600 - global__UV;
float node602 = global__inv_uv[0];
float node604 = global__UV[0];
float node606 = global__tail_pos12[0];
float node607 = node604 - node606;
float node609 = node607 * 5.0;
float node610 = node602 + node609;
float node612 = global__inv_uv[1];
vector2 global__tail_uv = vector2(node610, node612);
float node614 = global__tail_uv[0];
float randomfloat__in15 = global__UV[1];
float randomfloat__min14 = 0.0 - 0.01;
float node616 = randomfloat(in=randomfloat__in15, min=randomfloat__min14, max=0.01, seed=2);
float node622 = node614 + node616;
float node623 = global__tail_uv[0];
float node624 = global__tail_uv[1];
vector2 global__tail_uv2 = vector2(node622, node624);
float node627 = if (global__in_tail > 0.5) { 1.0 } else { 0.0 };
vector2 global__tail_uv3 = if (node627 == 1.0) { global__tail_uv2 } else { global__inv_uv };
vector2 node633 = global__UV - global__drop_pos;
vector2 node635 = node633 * 10.0;
vector2 global__drop_uv = global__inv_uv + node635;
float node638 = if (0.015 >= global__to_drop) { 1.0 } else { 0.0 };
vector2 global__drop_uv2 = if (node638 == 1.0) { global__drop_uv } else { global__inv_uv };
float node643 = if (0.015 >= global__to_drop) { 1.0 } else { 0.0 };
vector2 global__drop_and_tail_norm = if (node643 == 1.0) { global__drop_norm2 } else { global__tail_norm3 };
float node648 = if (0.015 >= global__to_drop) { 1.0 } else { 0.0 };
vector2 global__clear_uv2 = if (node648 == 1.0) { global__drop_uv2 } else { global__inv_uv };
color3 global__clear = image(file="textures\skyline.png", texcoord=global__clear_uv2);
color3 global__blurred2 = background__c * 0.8;
color3 global__clear2 = global__clear * 1.2;
float node664 = global__drop * 1.0;
float node667 = global__tail15 * 0.8;
float clamp__in15 = node664 + node667;
float global__clarity = clamp(in=clamp__in15);
float node674 = global__drop * 1.0;
float node677 = global__tail15 * 0.5;
float node678 = node674 + node677;
float global__roughness = 1.0 - node678;
color3 global__base_color = mix(fg=global__blurred2, bg=global__clear2, mix=global__clarity);
float clamp__in16 = 0.2 + global__roughness;
float node727 = clamp(in=clamp__in16);
vector3 node731 = normal(space="world");
float node733 = node731[0];
float node735 = global__drop_and_tail_norm[1];
float node736 = global__drop_and_tail_norm[0];
vector2 node737 = vector2(node735, node736);
vector2 node739 = node737 / 2.0;
float node740 = node739[0];
float node741 = node739[1];
vector3 node742 = vector3(node733, node740, node741);
surfaceshader global__surface = standard_surface(base_color=global__base_color, specular_roughness=node727, normal=node742);
//material mxsl_material = {"surfacematerial", material: surfaceshader=global__surface};
